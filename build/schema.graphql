type Token @entity {
    id: ID!
    tokenId: BigInt!
    transferCount: BigInt!
    editionNumber: BigInt!
    tokenURI: String!
    metadata: MetaData!
    birthTimestamp: BigInt!
    primaryValueInEth: BigDecimal!
    lastTransferTimestamp: BigInt!
}

type Day @entity {
    id: ID!
    date: String!
    transferCount: BigInt!
    editionsCount: BigInt!
    # Bid/offer counts and values
    bidsAcceptedCount: BigInt!
    bidsPlacedCount: BigInt!
    bidsRejectedCount: BigInt!
    bidsWithdrawnCount: BigInt!
    bidsIncreasedCount: BigInt!
    totalValuePlaceInBids: BigDecimal!
    totalValueCycledInBids: BigDecimal!
    # Sales/gifting counts and values
    salesCount: BigInt!
    giftsCount: BigInt!
    totalValueInEth: BigDecimal!
    highestValueInEth: BigDecimal!
    highestValueToken: Token
    sales: [Token!]!
    gifts: [Token!]!
    editions: [Edition!]!
}

type MetaData @entity {
    id: ID!
    name: String
    description: String
    image: String
    scarcity: String
    artist: String
    tags: [String!]
}

type Edition @entity {
    id: ID!
    editionType: BigInt!
    editionData: Bytes! # bytes32
    startDate: BigInt!
    endDate: BigInt!
    createdTimestamp: BigInt!
    tokenIds: [BigInt!]!
    tokenURI: String!
    artistAccount: Bytes! # address
    artistCommission: BigInt!
    optionalCommissionAccount: Bytes # address
    optionalCommissionRate: BigInt
    priceInWei: BigInt!
    totalSupply: BigInt!
    totalAvailable: BigInt!
    active: Boolean!
    metadata: MetaData!
    auctionEnabled: Boolean!
    activeBid: AuctionEvent # if present, an active bid should be open
    biddingHistory: [AuctionEvent!]!
}

type AuctionEvent @entity {
    id: ID!
    edition: Edition!
    name: String!
    bidder: Bytes!
    caller: Bytes!
    timestamp: BigInt!
    ethValue: BigDecimal!
}

type Artist @entity {
    id: ID!

    address: Bytes! # address
    name: String

    editionsCount: BigInt!

    supply: BigInt!

    salesCount: BigInt!
    giftsCount: BigInt!

    totalValueInEth: BigDecimal!

    highestSaleValueInEth: BigDecimal!
    highestSaleToken: Token

    firstEdition: Edition
    firstEditionTimestamp: BigInt!

    lastEdition: Edition
    lastEditionTimestamp: BigInt!
}
